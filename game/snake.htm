<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://ooyang.cn/favicon.ico" />
<title>经典贪吃蛇网页游戏 | 福州老杨</title>
<meta name="title" content="经典贪吃蛇网页游戏" />
<meta name="description" content="贪吃蛇,snake,经典贪吃蛇，方向操控、得分挑战、难度递增，尽享休闲乐趣。" />
<meta name="keywords" content="Game," />
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2593792a8d16bc9ab393449c82b032f8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<link rel="stylesheet" type="text/css" href="/css/bearblog.css">

</head>
<body>
  <header>    <div class="overlay"></div>
	<a href="/" class="title" title="福州老杨"><h1>OOyang</h1></a>
<nav><a href="/" title="首页">Home</a><a href="/a" target="_blank" title="Website网址导航">Navigation</a><a href="/posts" title="文章列表">Article</a><a href="/about" title="关于我们">About Us</a><a href="https://github.com/fzlaoyang/BBS/issues/1" target="_blank" title="联系我们">Contact</a><hr></nav>
</header>
  <main>

<h2 style="text-align: center;">经典贪吃蛇网页游戏</h2>

<content><style>
h1 { color: #2c3e50; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); }
.game-container { position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin: 20px 0; /* 可选，调整上下间距 */ }
#gameCanvas { border: 5px solid #34495e; border-radius: 8px; background-color: #ecf0f1; }
.game-info { display: flex; justify-content: space-between; width: 400px; font-size: 18px; font-weight: bold; color: #2c3e50; margin-top: 10px; }
.game-tips { color: #7f8c8d; font-size: 14px; text-align: center; }
.game-over-modal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(0, 0, 0, 0.8); color: white; padding: 30px 50px; border-radius: 10px; text-align: center; display: none; z-index: 10; }
.game-over-modal h2 { margin-bottom: 20px; color: #e74c3c; }
.game-over-modal p { margin-bottom: 25px; font-size: 16px; }
.restart-btn { padding: 10px 25px; background-color: #2ecc71; border: none; border-radius: 5px; color: white; font-size: 16px; cursor: pointer; transition: background-color 0.3s; }
.restart-btn:hover { background-color: #27ae60; }
</style>
<div class="game-container"><canvas id="gameCanvas" width="400" height="400"></canvas>
        <div class="game-over-modal" id="gameOverModal">
            <h2>游戏结束！</h2>
            <p>你的最终得分：<span id="finalScore">0</span></p>
            <button class="restart-btn" onclick="restartGame()">重新开始</button>
        </div>
    </div>
    <div class="game-info">
        <span>得分：<span id="score">0</span></span>
        <span>控制：方向键 ↑ ↓ ← →</span>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const finalScoreElement = document.getElementById('finalScore');
        const gameOverModal = document.getElementById('gameOverModal');
        const gridSize = 20;
        const canvasWidth = canvas.width;
        const canvasHeight = canvas.height;
        const maxGridX = Math.floor(canvasWidth / gridSize);
        const maxGridY = Math.floor(canvasHeight / gridSize);
        let snake = [];
        let food = {};
        let direction = 'right';
        let nextDirection = 'right';
        let score = 0;
        let gameLoop;
        let gameSpeed = 150;
        function initGame() {
            snake = [{ x: 5, y: 5 }, { x: 4, y: 5 }, { x: 3, y: 5 }];
            direction = 'right';
            nextDirection = 'right';
            score = 0;
            scoreElement.textContent = score;
            gameOverModal.style.display = 'none';
            generateFood();
            if (gameLoop) clearInterval(gameLoop);
            gameLoop = setInterval(updateGame, gameSpeed);
        }
        function generateFood() {
            let validFood = false;
            while (!validFood) {
                food = { x: Math.floor(Math.random() * maxGridX), y: Math.floor(Math.random() * maxGridY) };
                validFood = !snake.some(segment => segment.x === food.x && segment.y === food.y);
            }
        }
        function drawGame() {
            ctx.fillStyle = '#ecf0f1';
            ctx.fillRect(0, 0, canvasWidth, canvasHeight);
            snake.forEach((segment, index) => {
                ctx.fillStyle = index === 0 ? '#2ecc71' : '#27ae60';
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.roundRect(segment.x * gridSize, segment.y * gridSize, gridSize - 1, gridSize - 1, 3);
                ctx.fill();
                ctx.stroke();
            });
            ctx.fillStyle = '#e74c3c';
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.roundRect(food.x * gridSize, food.y * gridSize, gridSize - 1, gridSize - 1, 5);
            ctx.fill();
            ctx.stroke();
        }
        function updateGame() {
            direction = nextDirection;
            const head = { ...snake[0] };
            switch (direction) {
                case 'up': head.y -= 1; break;
                case 'down': head.y += 1; break;
                case 'left': head.x -= 1; break;
                case 'right': head.x += 1; break;
            }
            snake.unshift(head);
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                scoreElement.textContent = score;
                generateFood();
                if (score % 50 === 0 && gameSpeed > 100) {
                    gameSpeed -= 10;
                    clearInterval(gameLoop);
                    gameLoop = setInterval(updateGame, gameSpeed);
                }
            } else {
                snake.pop();
            }
            if (head.x < 0 || head.x >= maxGridX || head.y < 0 || head.y >= maxGridY) {
                gameOver();
                return;
            }
            for (let i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) {
                    gameOver();
                    return;
                }
            }
            drawGame();
        }
        function gameOver() {
            clearInterval(gameLoop);
            finalScoreElement.textContent = score;
            gameOverModal.style.display = 'block';
        }
        function restartGame() {
            initGame();
        }
        // 改进后的键盘事件处理函数：阻止方向键默认行为
        document.addEventListener('keydown', (e) => {
            // 先判断是否是方向键，仅对方向键阻止默认行为
            const isArrowKey = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key);
            switch (e.key) {
                case 'ArrowUp': 
                    if (direction !== 'down') nextDirection = 'up'; 
                    break;
                case 'ArrowDown': 
                    if (direction !== 'up') nextDirection = 'down'; 
                    break;
                case 'ArrowLeft': 
                    if (direction !== 'right') nextDirection = 'left'; 
                    break;
                case 'ArrowRight': 
                    if (direction !== 'left') nextDirection = 'right'; 
                    break;
            }
            // 关键：阻止方向键的默认浏览器行为（页面滚动）
            if (isArrowKey) {
                e.preventDefault();
            }
        });
        window.onload = initGame;
    </script></content>


<p> 
  <a href="http://ooyang.cn/tags/game/">#Game</a>
  </p>

  </main>
  <footer>
<small><script src="//cdn.busuanzi.cc/busuanzi/3.6.9/busuanzi.min.js" defer></script>
Total visits:<span id="busuanzi_site_pv">load...</span> | 
Page views:<span id="busuanzi_page_pv">load...</span><br>
Copyright © 2025 ooyang.cn</small>

</footer>

</body>
</html>
